---
title: Application Layer
date: 2022-06-26 10:15:21
category: 카테고리
tag: [Networking, CS]
series: Computer Networking a Top-Down Apporach
excerpt: "A summary of Application Layer of TCP/IP"
cover_image: /images/posts/networking.jpeg
draft: true
---

# Application Layer

## 애플리케이션이란 무엇인가?

어린 시절 내게 컴퓨터는 사실상 게임기나 다름 없었다.
설치하는 프로그램은 대부분 게임과 관련된 것이었고 그나마 워드 프로그램이나 압축 관련 프로그램만 설치했었다.
요즘은 하드 용량이 넉넉해서 설치한 파일을 자주 지울 필요는 없지만, 과거엔 하드 용량이 게임에 비해 크게 부족했다.
그래서 게임을 종종 지워야만 했는데 제어판에서 프로그램을 찾아서 지워야만 했다.
그 과정에서 *응용 프로그램*이란 말을 자주 접했는데, 나는 응용 프로그램을 윈도우 운영체제를 제외한 실행 파일이라고 이해했다.
컴퓨터를 사용하는 다른 사람들도 어떤 경로든지 응용 프로그램이란 말을 접해봤을 것이다.
사람들은 응용 프로그램이 무엇인지 물으면 정확히 답하진 못하겠지만, 직접적인 예를 들어가며 응용 프로그램인지 아닌지 물으면 꽤나 정확하게 구분할 것이다.
개념을 언어로 변환하지 못할 뿐 우리는 이미 응용 프로그램이 무엇인지 알고 있는 것이다.
그럼에도 생각을 언어화 하는 것은 중요하기에 응용 프로그램이 무엇인지 짧게 말해보겠다.
응용 프로그램은 운영체제에서 실행되는 모든 소프트웨어다.
게임, 워드프로세서, 미디어 플레이어, 브라우저 뿐만 아니라, 컴파일러, 링커, 에디터 등도 응용 프로그램이다.
응용 프로그램은 사용자 명령을 받아서 이를 수행한 다음 그 결과를 보여주며, 컴퓨터를 잘 알지 못하더라도 편리하게 그 기능을 사용하게 해준다.

내 주변에서는 응용 프로그램을 단순히 프로그램이라고 말했었다.
아마 다른 사람들도 컴퓨터에서 실행되는 소프트웨어를 프로그램이라 지칭했을 것이고, 나 역시 마찬가지였다.
그런데 고등학생이 되어서 스마트폰이 출시되면서 *애플리케이션*이라는 용어를 사용하기 시작했다.
앱스토어에서 다운받을 수 있는 것을 애플리케이션이라 말했는데, 나는 이때 애플리케이션이라는 용어를 처음 접했었다.
프로그램이란 용어에 익숙했던 나는 컴퓨터의 실행 파일은 응용 프로그램이라 하고 스마트폰의 실행 파일은 애플리케이션이라 부른다고 생각했다.
용어가 다르기 때문인지 나는 이 둘을 전혀 다른 것이라 인식했다.
그렇지만 가만히 들여다보면 둘은 전혀 차이가 없다.
작동하는 운영체제와 입력장치가 다를뿐 사용자 명령을 받아서 동작한다는 사실은 동일하다.
내가 이렇게 장황하게 설명한 이유가 이것인데, *컴퓨터의 응용 프로그램과 애플리케이션은 동일한 것*이다.
애초에 응용 프로그램이 Application Software의 번역 결과라는 것을 생각하면 당연할지도 모른다.
처음부터 우리가 응용 프로그램이라 부르던 것은 애플리케이션이었고, 스마트폰에선 이 용어를 그대로 들여와서 애플리케이션이라 불렀던 것이다.
결국 애플리케이션이란 기기에서 동작하는 소프트웨어일 뿐이다.

애플리케이션을 말할 때 크게 2가지 종류로 나뉜다.
위에서 말한 애플리케이션 소프트웨어가 있고, 다른 하나는 애플리케이션 레이어다.
여기서 애플리케이션 레이어는 간단히 말해 애플리케이션을 하나의 집합으로 취급하는 것이다.
하나 예시를 들어보자면 이는 사과와 동일하다.
우리가 사과라고하면 이는 사과 열매를 의미할 때도 있지만, 사과란 품종을 통틀어 지칭하는 경우도 있다.
마찬가지로 애플리케이션이라 하면 애플리케이션 소프트웨어를 지칭할 때도 있고, 애플리케이션 전체를 말하기도 한다.
이 글에선 각 소프트웨어를 다루는 것이 아니라 네트워크에서 동일한 내용을 다룬다.
그러므로 애플리케이션이라고 하면 애플리케이션 레이어를 말한다.

## 애플리케이션 구조

애플리케이션의 구조는 2종류가 있는데 _클라이언트-서버_ 구조와 _P2P_ 구조다.
클라이언트-서버 구조는 이미 우리가 익숙한 구조다.
클라이언트가 서버에 요청을 보내면 서버는 그에 맞는 응답을 해준다.
이때 각 클라이언트 사이의 직접적인 통신은 이뤄지지 않는다.
예를 들어 카카오톡으로 메신저를 보낸다면 이는 카카오의 서버를 경우해서 상대방에게 도착한다.
그러므로 사용자 사이에서 직접적으로 메세지가 오가는 것이 아닌, 사이에 서버를 경우해서 메세지를 보내는 것이다.

클라이언트 수가 늘어나면 하나의 서버만으로 요청을 처리하기 어려워진다.
그래서 여러 서버와 저장소를 설치한 *데이터 센터*를 만들게 된다.
데이터 센터는 기업의 서버와 스토리지를 효과적으로 운영하기 위해 한 곳에 모아 놓은 시설을 의미한다.
이를 보조하기 위해 전력, 네트워크 환경, 보안, 백업 등 다양한 시설이 추가로 필요하다.

P2P는 호스트간에 직접 통신하는 방식이다.
서버는 최소한으로 관여하거나 전혀 관여하지 않는다.
대표적인 애플리케이션은 토렌트, 스카이프 등이 있다.

## 프로세스 통신

프로세스란 메모리 상에서 실행중인 프로그램으로 프로세스는 서로 통신하며 데이터를 교환한다.
이때 프로세스가 같은 컴퓨터에서 실행중이라면 운영체제를 통해 데이터를 교환한다.
운영체제를 통해 데이터를 교환하는 것은 운영체제 과목에서 배울 내용이다.
우리는 네트워크를 공부하고 있으므로 서로 다른 컴퓨터의 프로세스 사이의 통신을 배운다.

서로 다른 컴퓨터의 프로세스는 _메세지_ 교환으로 통신한다.
메세지를 전송하는 프로세스를 클라이언트 프로세스라고 하고, 수신하는 쪽을 서버 프로세스라고 한다.
다만 이는 전체적인 맥락을 의미하는 것으로 실제 통신에서는 서버에서도 클라이언트 측에 메세지를 전송한다.
그러므로 정확히 표현하자면 *통신을 초기화 하는 프로세스는 클라이언트*라고 하고 *접속을 기다리는 프로세서는 서버*라고 한다.

프로세스는 *소켓*을 통해 메세지를 전송한다.

애플리케이션은 소켓으로 네트워크 통신을 하며 프로토콜, 도메인 이름, 포트번호를 필요로 한다.
소켓은 코드에서 선언하고 필요한 정보를 전달하는 것으로 만들 수 있는데, 애플리케이션에서 운영체제로 데이터를 전달하거나 반대로 전달받은 데이터를 적절한 애플리케이션에게 건내준다.
다시말해 소켓은 애플리케이션 계층과 트랜스포트 계층 사이의 출입구다.
이때 애플리케이션에서 소켓을 선언하고 사용하지만 모든 내용이 애플리케이션에서 관리되진 않는다.
상당수의 내용이 운영체제에게 위임되고 이들은 다시 통신 장치로 전달된다.
그러므로 애플리케이션은 소켓의 프로토콜, 세그먼트 크기 설정, 버퍼 크기 결정 등 몇 가지 일만 수행 가능하다.
